tinymce.PluginManager.requireLangPack("codemirror");
tinymce.PluginManager.add("codemirror", function (e, o) {
    function t() {
        e.focus();
        e.selection.collapse(true);
        var t = 800;
        var r = 550;
        var i = [{
                    type: "custom",
                    text: "Ok",
                    name: "codemirrorOk",
                    primary: true
                }, {
                    type: "cancel",
                    text: "Cancel",
                    name: "codemirrorCancel"
                }
            ];
        var c = {
            title: "HTML source code",
            url: o + "/source.html",
            width: t,
            height: r,
            resizable: true,
            maximizable: true,
            saveCursorPosition: false,
            buttons: i
        };
        c.onAction = function (e, o) {
            if (o.name === "codemirrorOk") {
                var t = document.querySelectorAll(".tox-dialog__body-iframe iframe")[0];
                t.contentWindow.submit();
                n.close()
            }
        }
        var n = e.windowManager.openUrl(c);
    }
    e.ui.registry.addButton("code", {
        icon: "sourcecode",
        title: "Source code",
        tooltip: "Source code",
        onAction: t
    });
    e.ui.registry.addMenuItem("code", {
        icon: "sourcecode",
        text: "Source code",
        onAction: t,
        context: "tools"
    })
});
